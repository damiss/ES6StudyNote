# ES6 ä¸ªäººå­¦ä¹ ç¬”è®°
> ä¸»è¦è®°å½•ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„ä»¥åŠä¸€äº›è‡ªå·±æ¯”è¾ƒéš¾ä»¥å»ç†è§£çš„ä¸œè¥¿ï¼Œä¸»è¦å‚è€ƒçš„æ˜¯é˜®ä¸€å³°å‰è¾ˆçš„[ECMAScript 6 å…¥é—¨](http://es6.ruanyifeng.com)ã€‚æœ¬ç¬”è®°å†…å®¹ä»…ä»£è¡¨ä¸ªäººï¼Œä½œä¸ºä¸ªäººå­¦ä¹ ä½¿ç”¨ã€‚

## å˜é‡å£°æ˜
ES5 åªæœ‰ä¸¤ç§å£°æ˜å˜é‡çš„æ–¹æ³•  
ES6 æœ‰6ç§  
`var` `function` `let` `const` `import` `class`

`const` å‘½ä»¤  
`const` å£°æ˜ä¸€ä¸ªåªè¯»çš„**å¸¸é‡**,ä¸€æ—¦ç”³æ˜,å¸¸é‡çš„å€¼ä¸èƒ½æ”¹å˜,ä¸”éœ€è¦ç«‹å³åˆå§‹åŒ–,ä¹Ÿæ˜¯åœ¨å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚  
`const` ä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå¹¶ä¸èƒ½ä¿è¯æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯å¦å‘ç”Ÿæ”¹å˜  
å› æ­¤,å°†ä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸ºå¸¸é‡å¿…é¡»éå¸¸å°å¿ƒ  
`const foo = Object.freeze({});`  
å†»ç»“å¯¹è±¡

## é¡¶å±‚å¯¹è±¡å±æ€§
é¡¶å±‚å¯¹è±¡å±æ€§
é¡¶å±‚å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒæŒ‡çš„æ˜¯windowå¯¹è±¡ï¼Œåœ¨nodeæŒ‡çš„æ˜¯globalå¯¹è±¡ï¼Œ
ES5ä¸­ é¡¶å±‚å¯¹è±¡å’Œå…¨å±€å˜é‡æ˜¯ä¸€æ ·çš„ï¼›
``` js
window.a = 1;
a // 1

a = 2;
window.a // 2
```
ä¸Šè¿°ä»£ç  å…¨å±€å’Œé¡¶å±‚æ˜¯ä¸€æ ·çš„

## å˜é‡çš„è§£æ„èµ‹å€¼ï¼š
1.æ•°ç»„çš„ç»“æ„ï¼š
``` js
let a = 1;
let b = 2;
let c = 3;

//ES6:
let [a,b,c] = [1,2,3]
/* ä¸Šè¿°ä»£ç è¡¨ç¤ºï¼Œå¯ä»¥ä»æ•°ç»„ä¸­æå–å€¼ï¼ŒæŒ‰ç…§å¯¹åº”ä½ç½®ï¼Œå¯¹å˜é‡èµ‹å€¼è§£æ„ä¸æˆåŠŸ å°†è¿”å›undefined */

//æ —å­ğŸŒ°
let [x = 1, y = x] = [];     // x=1; y=1
let [x = 1, y = x] = [2];    // x=2; y=2
let [x = 1, y = x] = [1, 2]; // x=1; y=2
let [x = y, y = 1] = [];     // ReferenceError

let [arr1,...arr] = [1,2,3,4,5,6];
console.log(arr);
let [foo] = [];
let [bar, foo] = [1];
```
            
2.å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼š
> å¯¹è±¡çš„è§£æ„ä¸æ•°ç»„æœ‰ä¸€ä¸ªä¸åŒï¼Œæ•°ç»„å¿…é¡»æŒ‰ç…§é¡ºåºæ¥ï¼Œè€Œå¯¹è±¡çš„å±æ€§æ²¡æœ‰æ¬¡åºã€‚
``` js
let { bar, foo } = { foo: "aaa", bar: "bbb" };
foo // "aaa"
bar // "bbb"

let { baz } = { foo: "aaa", bar: "bbb" };
baz // undefined
```        
å…ˆæ‰¾åˆ°åŒåå±æ€§ï¼Œå†èµ‹å€¼ç»™å¯¹åº”çš„å˜é‡ï¼Œ***çœŸæ­£èµ‹å€¼çš„æ˜¯åè€…ï¼Œä¸æ˜¯å‰è€…ï¼Œè¿™æ˜¯æœ¬è´¨ä¸Šçš„åŒºåˆ«***ï¼Œ æ‰¾åˆ°åŒåå±æ€§å†èµ‹å€¼

3.å­—ç¬¦ä¸²çš„ç»“æ„èµ‹å€¼ï¼š
å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºæ­¤æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚
```js
const [a, b, c, d, e] = 'hello';
a // "h"
b // "e"
c // "l"
d // "l"
e // "o"
```
ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªlengthå±æ€§ï¼Œå› æ­¤è¿˜å¯ä»¥å¯¹è¿™ä¸ªå±æ€§è§£æ„èµ‹å€¼ã€‚
``` js
let {length: len} = "hello";
console.log(len); // 5
//é«˜çº§äº†æœ‰æœ¨æœ‰
```       
è§£æ„èµ‹å€¼çš„è§„åˆ™æ˜¯ï¼Œåªè¦ç­‰å·å³è¾¹çš„å€¼ä¸æ˜¯å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œå°±ä¼šå°†å…¶è½¬æ¢æˆå¸ƒå°”å€¼ï¼Œundefinedå’Œnullæ— æ³•è½¬ä¸ºå¯¹è±¡ å› æ­¤ä¼šæŠ¥é”™  

åŒæ · å‡½æ•°å‚æ•°ä¹Ÿå¯ä»¥è¿›è¡Œè§£æ„
 ``` js
[[1, 2], [3, 4]].map(([a, b]) => a + b);
// [ 3, 7 ]
 ```       
å‚æ•°ä½œä¸ºæ•°æ® ä¼ å…¥å‡½æ•°ï¼Œéšæ€§å°†æ•°å€¼èµ‹äºˆç»™å˜é‡   

undefinedå°±ä¼šè§¦å‘å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚
``` js
[1, undefined, 3].map((x = 'yes') => x);
// [ 1, 'yes', 3 ]
```     
å˜é‡çš„è§£æ„èµ‹å€¼ç”¨é€”    
``` js
let x = 1;
let y = 2;
[x, y] = [y, x];     
```
å‡½æ•°å‚æ•°çš„å®šä¹‰ï¼š       
``` js
// å‚æ•°æ˜¯ä¸€ç»„æœ‰æ¬¡åºçš„å€¼
function f([x, y, z]) { ... }
f([1, 2, 3]);

// å‚æ•°æ˜¯ä¸€ç»„æ— æ¬¡åºçš„å€¼
function f({x, y, z}) { ... }
f({z: 3, y: 2, x: 1});  
``` 
æå–JSONæ•°æ®:
``` js
let jsonData = {
id: 42,
status: "OK",
data: [867, 5309]
};

let { id, status, data: number } = jsonData;

console.log(id, status, number);
// 42, "OK", [867, 5309]
```           
éå†mapï¼š            
``` js
var map = new Map();
map.set('first', 'hello');
map.set('second', 'world');
for(let [key] of map){
    console.log(key + ' is ' + key)
}
// first is first
// second is second
```            
å­—ç¬¦ä¸²æ‰©å±•ï¼š
``` js
// å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£
// å¯ä»¥ä½¿ç”¨for...ofå¾ªç¯éå†
for(let codePoint of 'foo') {
    console.log(codePoint)
}
// f
// o
// o
```
å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ï¼š
``` js
function Point(x = 0, y 0) {
    this.x = x;
    this.y = y;
}
var p = new Point();
// p { x: 0, y: 0 }
```
err:å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨letæˆ–constå†æ¬¡å£°æ˜ã€‚  
err:ä½¿ç”¨å‚æ•°é»˜è®¤å€¼æ—¶ï¼Œå‡½æ•°ä¸èƒ½æœ‰åŒåå‚æ•°ã€‚ 

## Map
> `map` æ–¹æ³•ä¼šç»™åŸæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æŒ‰é¡ºåºè°ƒç”¨ä¸€æ¬¡  `callback` å‡½æ•°ã€‚
`callback` æ¯æ¬¡æ‰§è¡Œåçš„è¿”å›å€¼ï¼ˆåŒ…æ‹¬ `undefined`ï¼‰ç»„åˆèµ·æ¥å½¢æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚
`callback` å‡½æ•°åªä¼šåœ¨æœ‰å€¼çš„ç´¢å¼•ä¸Šè¢«è°ƒç”¨ï¼›
é‚£äº›ä»æ¥æ²¡è¢«èµ‹è¿‡å€¼æˆ–è€…ä½¿ç”¨ `delete` åˆ é™¤çš„ç´¢å¼•åˆ™ä¸ä¼šè¢«è°ƒç”¨ã€‚     
``` js
let array = arr.map(function callback(currentValue, index, array) { 
    // Return element for new_array 
}[, thisArg])
```              


                

                    
                    
